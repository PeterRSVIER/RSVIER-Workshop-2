<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Peter's Webwinkel</title>
<link rel="stylesheet" th:href="@{/bootstrap.css}" />
<link rel="stylesheet" th:href="@{/order.css}">
</head>

<body>
	<div class="grid-container">
		<div class="header">
			<img th:src="@{/images/header.png}" alt="Header" class="center" />
		</div>

		<div class="orderRechts">
			<div class="mt-3">
				<h2>Current Order</h2>
				<table class="table table-striped">
					<thead>
						<th>ProductId</th>
						<th>Amount</th>
						<th>Price
					</thead>

					<tbody>
						<tr th:each="orderLine:${orderLineList}">
							<td th:text="${orderLine.product.id}"></td>
							<td th:text="${orderLine.amount}"></td>
							<td th:text="${orderLine.product.price}"></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

		<div class="orderLinks">
			<div class="m-3">

				<form action="#" th:action="@{/order/create/addOrderLine/}"
					th:object="${orderLine}" method="post">
					<div class="form-group col-lg-14">
						<label for="productForm"><h2>Product List</h2></label> 
						<select 
							th:field="*{product.id}"  size="10" class="form-control"
							id="productForm" onchange="myFunction()"
							title="Choose one of the following..." >
							
							<option th:each="dropDownItem : ${productList}"
								th:value="${dropDownItem.getId()}"
								th:text="${dropDownItem.getName()}" />
						</select>
					</div>
					<table>
					<tr>
					<td><label> Amount    </label><input type="text" th:field="*{amount}"></td>
					</tr>
					<tr>
					<td><input type="submit" value="Add Product to Order"> </td>
					</tr>
					</table>

				</form>

			</div>
		</div>
		<div class="orderMiddle">
			<div class="mt-4">

				<p id="demo"></p>
				<p id="demotext"></p>
			</div>
		</div>
	
	
	<div class = "buttons3">
	<div class="text-right">
	<div class="mt-5">
		<div class="m-3">
			<form action="#" th:action="@{/order/create/save}"
				th:object="${selectedCustomer}" method="post">
				<input type="submit" value="Submit Create Order">
			</form>

			<form action="#" th:action="@{/order/create/clear}"
				th:object="${orderLineList}" method="post">
				<input type="submit" value="Clear Current Order">
			</form>

			<p>
			<div>
				<span class="validationError" th:text="${stockError}"></span>
				</div>
			</div>
			</div>
		</div>
	</div>
</body>
<script>
	function myFunction() {
		var x = document.getElementById("productForm").value;
		if (x == 1) {
			document.getElementById("demo").innerHTML = "<img src='/images/gloomhaven.jpg' class='rounded' width='320' height='160'>"
		}
		if (x == 2) {
			document.getElementById("demo").innerHTML = "<img src='/images/spiritIsland.jpg' class='rounded' width='320' height='160'>"
		}
	}
</script>
</html>

